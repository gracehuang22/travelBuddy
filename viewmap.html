<!DOCTYPE html >
  <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <title>WOW A MAP</title>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBNEiNahO7DRkCF9DyLErWsiCZreuFVoEI"
            type="text/javascript"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js"></script>
    <script src="googleMapAPI.js" type="text/javascript"></script>
    <script>
      var categories = "";

  
      $( document ).ready(function(){
        toggleOnOff();
      })

      function loadMap(){
        var $elements = document.getElementsByClassName("on");
        $.each($elements,function(){
          if (categories == "") {
            categories = $(this).attr('id');
          }
          else {
            categories = categories + "," + $(this).attr('id');
          }
        });
        console.log("categories: " +categories);
        var keywords = categories;
        var location = document.getElementById("location").value;
        load(keywords,location);
      }

      function toggleOnOff(){
        $('.cat-elem').click(function() {
          if ($(this).hasClass("off")) {
            alert("turnON");
            $(this).removeClass("off");
            $(this).addClass("on");
          }
          else {
            alert("turnOFF");
            $(this).removeClass("on");
            $(this).addClass("off");            
          }
          
        });
      }

    </script>

  </head>

  <body onload = loadMap()>
    <div id="map" style="width: 1300px; height: 600px"></div>
    <div id="categories">
      <div class = "cat-elem off" id = "active">Active</div>
      <div class = "cat-elem off" id = "arts">Arts</div>
      <div class = "cat-elem off" id = "restaurants">Restaurants</div>
    </div>
    <form>
      Location <input type="text" name="location" id="location"><br>
      Keywords <input type="text" name="keywords" id = "keywords"><br>
      <input id = "mapsubmit" type="button" value="submit" onclick="loadMap()">
    </form>
  </body>


</html>